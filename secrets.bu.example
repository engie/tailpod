variant: fcos
version: 1.6.0

passwd:
  users:
    - name: core
      ssh_authorized_keys:
        - ssh-ed25519 YOUR_PUBLIC_KEY_HERE you@example.com

storage:
  files:
    # Tailscale OAuth credentials for auth key minting
    - path: /home/core/.config/tailscale/keymint.env
      mode: 0600
      user: { name: core }
      group: { name: core }
      contents:
        inline: |
          TS_API_CLIENT_ID=your-oauth-client-id
          TS_API_CLIENT_SECRET=your-oauth-client-secret

    # Podman defaults â€” sets tailnet DNS search domain for all containers
    - path: /home/core/.config/containers/containers.conf
      mode: 0644
      user: { name: core }
      group: { name: core }
      contents:
        inline: |
          [containers]
          dns_searches = ["your-tailnet.ts.net"]
